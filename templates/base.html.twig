<!DOCTYPE html>
<html>
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <title>{% block title %}Liste des projets - TaskLinker{% endblock %}</title>

      {# 🌐 Feuilles de style externes #}
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />
      <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

      {# 🎨 Feuille de style locale #}
      <link rel="stylesheet" href="{{ asset('../assets/styles/style.css') }}">

      {# 🧩 Extension de styles #}
      {% block stylesheets %}{% endblock %}

      {# 🧠 Scripts JS en defer pour ne pas bloquer le chargement du DOM #}
      <script defer src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-..." crossorigin="anonymous"></script>
      <script defer src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
      <script defer src="{{ asset('../assets/select.js')}}"></script>

      {% block javascripts %}
         {% block importmap %}{{ importmap('app') }}{% endblock %}
      {% endblock %}
   </head>

   <body>
      <div id="main-container">
         <nav>
            <a href="{{path('app_welcome')}}" id="logo">
               <img src="{{ asset('../assets/img/logo.png')}}" alt="Logo TaskLinker" />
            </a>
            <ul id="main-menu">
               <li class="active">
                  <a href="{{path('app_projets')}}">
                  <i class="fa-solid fa-list-check"></i> Projets
                  </a>
               </li>
               <li>
                  <a href="{{path('app_employes')}}">
                     <i class="fa-regular fa-user"></i> Équipe
                  </a>
               </li>
            </ul>
         </nav>
         <main>
            <header>
               <div id="title-page">
                  {% block extra_header %} {% endblock %}
               </div>
               <div id="current-user">
               {% if app.user %}
                  <div id="avatar-header" class='avatar '>
                     <a href="{{path('app_logout')}}"> {{ app.user.getInitiales() }}</a>
                  </div>
                  {% else %}
                     <p></p>
                  {% endif %}
               </div>
            </header>
            {% block body %}
            {% endblock %}
         </main>
      </div>
   </body>
